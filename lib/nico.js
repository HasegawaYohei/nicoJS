var e,nicoJS;nicoJS=function(){function t(t){this.timer=null,this.interval=null,this.fps=1e3/30,this.step=2e3,this.comments=[],this.app=t.app,this.font_size=t.font_size||30,this.color=t.color||"#fff",this.width=t.width||500,this.height=t.height||300,this.render()}return t.prototype.render=function(){return this.app.style.whiteSpace="nowrap",this.app.style.overflow="hidden",this.app.style.position="relative",this.app.style.width=this.width+"px",this.app.style.height=this.height+"px",console.log("author:     yuki540"),console.log("hp:         http://yuki540.com"),console.log("repository: https://github.com/yuki540net/nicoJS")},t.prototype.send=function(t){var e,i,o;return this.font_size=t.font_size||this.font_size,this.color=t.color||this.color,o=t.text||"",e=document.createElement("div"),this.comments.push({ele:e,x:this.width,y:Math.random()*(this.height-this.font_size)}),console.log(this.comments),i=this.comments.length-1,e.innerHTML=o,e.style.position="absolute",e.style.left=this.comments[i].x+"px",e.style.top=this.comments[i].y+"px",e.style.fontSize=this.font_size+"px",e.style.textShadow="0 0 5px #111",e.style.color=this.color,this.app.appendChild(e)},t.prototype.flow=function(){var t,e,i,o,s,n,h;for(n=[],e=i=0,o=(s=this.comments).length;i<o;e=++i)t=-1*(h=s[e]).ele.getBoundingClientRect().width,h.x>t?(h.x-=4,n.push(h.ele.style.left=h.x+"px")):n.push(void 0);return n},t.prototype.listen=function(){return this.stop(),this.timer=setInterval(function(t){return function(){return t.flow()}}(this),this.fps)},t.prototype.loop=function(t){var e,i;return e=0,i=t.length-1,this.listen(),this.send({text:t[e++]}),this.interval=setInterval(function(o){return function(){return i<e&&(e=0),o.send({text:t[e++]})}}(this),this.step)},t.prototype.stop=function(){return clearInterval(this.timer),clearInterval(this.interval)},t}();try{module.exports=nicoJS}catch(t){e=t}